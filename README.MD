# HIP-AI: Guia de Instala√ß√£o

Guia r√°pido para configurar e executar o projeto em sua m√°quina local.

## üöÄ Instala√ß√£o Autom√°tica

O projeto possui scripts de inicializa√ß√£o (`initialize.bat` e `initialize.sh`) que **automatizam todo o processo de instala√ß√£o e execu√ß√£o**.
Voc√™ s√≥ precisa rodar **um √∫nico comando** para tudo funcionar.

### ‚ñ∂Ô∏è Execu√ß√£o R√°pida

Escolha o comando conforme o seu sistema operacional e execute **dentro da pasta do projeto**:

#### **Windows**

```cmd
.\initialize.bat
```

#### **Linux / macOS**

Primeiro, conceda permiss√£o de execu√ß√£o (somente na primeira vez):

```bash
chmod +x initialize.sh
```

Depois, execute:

```bash
./initialize.sh
```

### üí° O que o script faz automaticamente

1. **Verifica o Python** ‚Äî Confirma se o Python 3.10, 3.11, 3.12 ou 3.13 est√° instalado e seleciona uma vers√£o compat√≠vel.
2. **Verifica o arquivo `.env`** ‚Äî Confirma se o arquivo de configura√ß√£o existe e se as credenciais est√£o preenchidas.
3. **Cria o ambiente virtual** ‚Äî Gera uma pasta `.venv` isolada (se ainda n√£o existir).
4. **Ativa o ambiente** ‚Äî Garante que os pr√≥ximos comandos usem esse ambiente.
5. **Instala/atualiza depend√™ncias** ‚Äî L√™ o arquivo de requisitos e instala todos os pacotes necess√°rios.
6. **Verifica o Docker** ‚Äî Confirma se o Docker e Docker Compose est√£o instalados.
7. **Inicia o banco de dados** ‚Äî Sobe o container PostgreSQL automaticamente via Docker Compose.
8. **Inicia o sistema** ‚Äî Executa automaticamente o `medical_system.py`.

---

## ‚öôÔ∏è Pr√©-requisitos

### 1. **Python**
- **Vers√µes compat√≠veis:** Python 3.10, 3.11, 3.12 ou 3.13
- **Python 3.14+** ainda n√£o √© compat√≠vel com as bibliotecas necess√°rias
- [Download Python 3.12 (recomendado)](https://www.python.org/downloads/release/python-3120/)
- ‚ö†Ô∏è **Importante:** Durante a instala√ß√£o, marque a op√ß√£o **"Add Python to PATH"**

### 2. **Docker Desktop (para windows, para linux docker normal)**
- Necess√°rio para executar o banco de dados PostgreSQL
- [Download Docker Desktop](https://www.docker.com/products/docker-desktop)
- ‚ö†Ô∏è **Importante:** Certifique-se de que o Docker Desktop est√° **aberto e em execu√ß√£o** antes de rodar o script

### 3. **Clonar o reposit√≥rio**

```bash
git clone https://github.com/Thomaz-Castro/HIP-AI
cd HIP-AI
```

---

## üîë Configura√ß√£o do Arquivo `.env`

### Configura√ß√£o Autom√°tica (Recomendada)

Na primeira execu√ß√£o, o script detectar√° automaticamente se o arquivo `.env` n√£o existe e oferecer√° criar um a partir do `.env.example`. Basta:

1. Responder **`s`** (sim) quando perguntado
2. O arquivo ser√° criado e aberto automaticamente no Bloco de Notas
3. Preencher as credenciais necess√°rias
4. Salvar e executar o script novamente

### Configura√ß√£o Manual (Opcional)

Caso prefira configurar manualmente:

1. Localize o arquivo `.env.example`
2. Fa√ßa uma c√≥pia e renomeie para `.env`
3. Edite o arquivo `.env` com suas credenciais:

```dotenv
# ==================================
# API DO GOOGLE GEMINI
# ==================================
GEMINI_API_KEY=sua_chave_aqui

# ==================================
# CONFIGURA√á√ÉO DO POSTGRESQL
# ==================================
POSTGRES_DB=medical_system
POSTGRES_USER=postgres
POSTGRES_PASSWORD=sua_senha_segura

# ----------------------------------
# Vari√°veis de Conex√£o da Aplica√ß√£o
# ----------------------------------
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# ----------------------------------
# Chave de Encripta√ß√£o
# ----------------------------------
ENCRYPTION_KEY=sua_chave_de_encriptacao
```

‚ö†Ô∏è **Campos obrigat√≥rios:**
- `GEMINI_API_KEY` ‚Äî Sua chave da API do Google Gemini
- `ENCRYPTION_KEY` ‚Äî Chave para criptografia de dados sens√≠veis
- `POSTGRES_USER` ‚Äî Usu√°rio do banco de dados
- `POSTGRES_PASSWORD` ‚Äî Senha do banco de dados
- `POSTGRES_DB` ‚Äî Nome do banco de dados

---

## üê≥ Sobre o Docker

O script gerencia automaticamente o container do PostgreSQL:

- **Nome do container:** `hip-ai`
- **Arquivo de configura√ß√£o:** `docker-compose.yml`
- Se o container n√£o estiver rodando, o script iniciar√° automaticamente
- Se j√° estiver rodando, o script prosseguir√° normalmente

### Comandos √∫teis do Docker (manual):

```bash
# Ver containers em execu√ß√£o
docker ps

# Ver logs do banco de dados
docker logs hip-ai

# Parar o container
docker-compose down

# Iniciar o container manualmente
docker-compose up -d
```

---

## üì¶ Depend√™ncias Instaladas

O script instala automaticamente os seguintes pacotes:

- `PyQt5==5.15.9` ‚Äî Interface gr√°fica
- `psycopg2-binary==2.9.11` ‚Äî Conex√£o com PostgreSQL
- `protobuf==4.25.3` ‚Äî Protocolo de serializa√ß√£o
- `google-generativeai==0.8.3` ‚Äî API do Google Gemini
- `cryptography==41.0.5` ‚Äî Criptografia de dados
- `python-dotenv==1.0.0` ‚Äî Gerenciamento de vari√°veis de ambiente
- `reportlab==4.4.5` ‚Äî Gera√ß√£o de relat√≥rios PDF

---

## üîß Solu√ß√£o de Problemas

### Erro: "Python n√£o foi encontrado"
- Verifique se o Python est√° instalado corretamente
- Confirme que marcou "Add Python to PATH" durante a instala√ß√£o
- Tente executar `python --version` no terminal

### Erro: "Docker n√£o foi encontrado"
- Certifique-se de que o Docker Desktop est√° instalado
- Verifique se o Docker Desktop est√° **aberto e em execu√ß√£o**
- Procure o √≠cone da baleia na bandeja do sistema

### Erro: "Falha ao criar ambiente virtual"
- Execute o comando manualmente: `python -m venv .venv`
- Tente executar o script como Administrador (Windows)

### Erro: "Container falhou ao iniciar"
- Verifique os logs: `docker logs hip-ai`
- Certifique-se de que a porta 5432 n√£o est√° sendo usada por outro servi√ßo
- Tente reiniciar o Docker Desktop

### Erro: "Vari√°veis essenciais n√£o configuradas"
- Abra o arquivo `.env` e preencha todos os campos obrigat√≥rios
- Certifique-se de que nenhum campo est√° vazio (sem valor ap√≥s o `=`)

---

## üß† Observa√ß√£o

Ap√≥s a configura√ß√£o inicial, sempre que quiser iniciar o sistema, basta rodar novamente o script correspondente (`initialize.bat` ou `initialize.sh`) ‚Äî ele cuidar√° de verificar tudo e iniciar o sistema automaticamente.

---

## üìù Estrutura do Projeto

```
HIP-AI/
‚îú‚îÄ‚îÄ .env                    # Configura√ß√µes (n√£o versionado)
‚îú‚îÄ‚îÄ .env.example           # Exemplo de configura√ß√µes
‚îú‚îÄ‚îÄ docker-compose.yml     # Configura√ß√£o do PostgreSQL
‚îú‚îÄ‚îÄ initialize.bat         # Script de inicializa√ß√£o (Windows)
‚îú‚îÄ‚îÄ initialize.sh          # Script de inicializa√ß√£o (Linux/macOS)
‚îú‚îÄ‚îÄ medical_system.py      # Aplica√ß√£o principal
‚îú‚îÄ‚îÄ pip-requirements       # Lista de depend√™ncias
‚îî‚îÄ‚îÄ .venv/                 # Ambiente virtual (criado automaticamente)
```
